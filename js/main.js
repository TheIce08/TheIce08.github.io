"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(c.push(o.value),c.length!==t);l=!0);}catch(e){s=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return c}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var l,a={},e=Object.prototype,s=e.hasOwnProperty,u=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",r=t.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(l){i=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var r,i,a,c,t=t&&t.prototype instanceof g?t:g,t=Object.create(t.prototype),o=new T(o||[]);return u(t,"_invoke",{value:(r=e,i=n,a=o,c=m,function(e,t){if(c===h)throw new Error("Generator is already running");if(c===p){if("throw"===e)throw t;return{value:l,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var o=n.method,r=t.iterator[o];if(r===l)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=l,e(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),f;o=d(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,f;r=o.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=l),n.delegate=null,f):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}(n,a);if(n){if(n===f)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(c===m)throw c=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);c=h;n=d(r,i,a);if("normal"===n.type){if(c=a.done?p:y,n.arg===f)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(c=p,a.method="throw",a.arg=n.arg)}})}),t}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=c;var m="suspendedStart",y="suspendedYield",h="executing",p="completed",f={};function g(){}function v(){}function b(){}var t={},L=(i(t,o,function(){return this}),Object.getPrototypeOf),L=L&&L(L(z([]))),E=(L&&L!==e&&s.call(L,o)&&(t=L),b.prototype=g.prototype=Object.create(t));function w(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function _(a,c){var t;u(this,"_invoke",{value:function(n,o){function e(){return new c(function(e,t){!function t(e,n,o,r){var i,e=d(a[e],a,n);if("throw"!==e.type)return(n=(i=e.arg).value)&&"object"==_typeof(n)&&s.call(n,"__await")?c.resolve(n.__await).then(function(e){t("next",e,o,r)},function(e){t("throw",e,o,r)}):c.resolve(n).then(function(e){i.value=e,o(i)},function(e){return t("throw",e,o,r)});r(e.arg)}(n,o,e,t)})}return t=t?t.then(e,e):e()}})}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function z(t){if(t||""===t){var n,e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(s.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=l,e.done=!0,e}).next=e}throw new TypeError(_typeof(t)+" is not iterable")}return u(E,"constructor",{value:v.prototype=b,configurable:!0}),u(b,"constructor",{value:v,configurable:!0}),v.displayName=i(b,r,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,i(e,r,"GeneratorFunction")),e.prototype=Object.create(E),e},a.awrap=function(e){return{__await:e}},w(_.prototype),i(_.prototype,n,function(){return this}),a.AsyncIterator=_,a.async=function(e,t,n,o,r){void 0===r&&(r=Promise);var i=new _(c(e,t,n,o),r);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(E),i(E,r,"Generator"),i(E,o,function(){return this}),i(E,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),o=[];for(t in n)o.push(t);return o.reverse(),function e(){for(;o.length;){var t=o.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=z,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var o=this;function e(e,t){return i.type="throw",i.arg=n,o.next=e,t&&(o.method="next",o.arg=l),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t],i=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var a=s.call(r,"catchLoc"),c=s.call(r,"finallyLoc");if(a&&c){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&s.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}var i=(r=r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc?null:r)?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,o,r=this.tryEntries[t];if(r.tryLoc===e)return"throw"===(n=r.completion).type&&(o=n.arg,x(r)),o}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:z(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=l),f}},a}function asyncGeneratorStep(e,t,n,o,r,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(o,r)}function _asyncToGenerator(c){return function(){var e=this,a=arguments;return new Promise(function(t,n){var o=c.apply(e,a);function r(e){asyncGeneratorStep(o,t,n,r,i,"next",e)}function i(e){asyncGeneratorStep(o,t,n,r,i,"throw",e)}r(void 0)})}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var dragStartX,anzhiyu_musicFirst=!1,anzhiyu_keyboard=null,anzhiyu_musicPlaying=!1,$web_container=document.getElementById("web_container"),$web_box=document.getElementById("web_box"),$bodyWrap=document.getElementById("body-wrap"),$main=document.querySelector("main"),popupWindowTimer=null,adjectives=["美丽的","英俊的","聪明的","勇敢的","可爱的","慷慨的","善良的","可靠的","开朗的","成熟的","稳重的","真诚的","幽默的","豁达的","有趣的","活泼的","优雅的","敏捷的","温柔的","温暖的","敬业的","细心的","耐心的","深沉的","朴素的","含蓄的","率直的","开放的","务实的","坚强的","自信的","谦虚的","文静的","深刻的","纯真的","朝气蓬勃的","慎重的","大方的","顽强的","迷人的","机智的","善解人意的","富有想象力的","有魅力的","独立的","好奇的","干净的","宽容的","尊重他人的","体贴的","守信的","有耐性的","有责任心的","有担当的","有远见的","有智慧的","有眼光的","有冒险精神的","有爱心的","有同情心的","喜欢思考的","喜欢学习的","具有批判性思维的","善于表达的","善于沟通的","善于合作的","善于领导的","有激情的","有幽默感的","有思想的","有个性的","有正义感的","有责任感的","有创造力的","有想象力的","有艺术细胞的","有团队精神的","有协调能力的","有决策能力的","有组织能力的","有学习能力的","有执行能力的","有分析能力的","有逻辑思维的","有创新能力的","有专业素养的","有商业头脑的"],vegetablesAndFruits=["萝卜","白菜","芹菜","生菜","青椒","辣椒","茄子","豆角","黄瓜","西红柿","洋葱","大蒜","土豆","南瓜","豆腐","韭菜","花菜","西兰花","蘑菇","金针菇","苹果","香蕉","橙子","柠檬","猕猴桃","草莓","葡萄","桃子","杏子","李子","石榴","西瓜","哈密瓜","蜜瓜","樱桃","蓝莓","柿子","橄榄","柚子","火龙果"];document.addEventListener("DOMContentLoaded",function(){function e(e){var t;dragStartX=r(e),$web_box.style.transition="all .3s",e=n,t=o,document.addEventListener("mousemove",e),document.addEventListener("mouseup",t),document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("touchend",t)}function n(e){var t,n,e=r(e)-dragStartX;e<0&&(t=window.innerWidth,n=Math.min(-300,-1*e/t*300),e=Math.min(1,.86+e/t*.14),$web_box.style.transform="translate3d(-".concat(n,"px, 0px, 0px) scale3d(").concat(e,", ").concat(e,", 1)"))}function o(e){var t=window.innerWidth;r(e)<=t/1.5?($web_box.style.transition="all 0.3s ease-out",$web_box.style.transform="none",g.close(),i(n,o)):($web_box.style.transition="",$web_box.style.transform=""),i(n,o)}function r(e){return(e.type.startsWith("touch")?e.changedTouches[0]:e).clientX}function i(e,t){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t),document.removeEventListener("touchmove",e),document.removeEventListener("touchend",t)}function h(e){e&&(t=document.getElementById("site-name").offsetWidth,e=document.querySelectorAll("#menus .menus_item"),a=0,e.length&&e.forEach(function(e){a+=e.offsetWidth}),e=document.querySelector("#search-button"),c=e?e.offsetWidth:0,f=document.getElementById("nav")),window.innerWidth<=768||t+a+c>f.offsetWidth-120?f.classList.add("hide-menu"):f.classList.remove("hide-menu")}function p(){var e,t,n,i,a,o,c,l,s,u,r,d,m,y,h=GLOBAL_CONFIG.highlight;function p(e,t,n){var o,r=document.createDocumentFragment();a&&((o=document.createElement("div")).className="highlight-tools ".concat(u),o.innerHTML=l+e+s,o.addEventListener("click",m),r.appendChild(o)),i&&t.offsetHeight>i+30&&((e=document.createElement("div")).className="code-expand-btn",e.innerHTML='<i class="anzhiyufont anzhiyu-icon-angle-double-down"></i>',e.addEventListener("click",y),r.appendChild(e)),"hl"===n?t.insertBefore(r,t.firstChild):t.parentNode.insertBefore(r,t)}h&&(e=h.highlightCopy,t=h.highlightLang,n=GLOBAL_CONFIG_SITE.isHighlightShrink,i=h.highlightHeightLimit,a=e||t||void 0!==n,o="highlighjs"===h.plugin?document.querySelectorAll("figure.highlight"):document.querySelectorAll('pre[class*="language-"]'),a||i)&&o.length&&(c="prismjs"===h.plugin,u=!(s=l="")===n?"closed":"",void 0!==n&&(l='<i class="anzhiyufont anzhiyu-icon-angle-down expand '.concat(u,'"></i>')),e&&(s='<div class="copy-notice"></div><i class="anzhiyufont anzhiyu-icon-paste copy-button"></i>'),r=function(e){var t,n=e.parentNode,o=(n.classList.add("copy-true"),window.getSelection()),r=document.createRange();c?r.selectNodeContents(n.querySelectorAll("pre code")[0]):r.selectNodeContents(n.querySelectorAll("table .code pre")[0]),o.removeAllRanges(),o.addRange(r),o.toString();r=e.lastChild,document.queryCommandSupported&&document.queryCommandSupported("copy")?(document.execCommand("copy"),void 0!==GLOBAL_CONFIG.Snackbar?anzhiyu.snackbarShow(GLOBAL_CONFIG.copy.success):((t=r.previousElementSibling).innerText=GLOBAL_CONFIG.copy.success,t.style.opacity=1,setTimeout(function(){t.style.opacity=0},700))):void 0!==GLOBAL_CONFIG.Snackbar?anzhiyu.snackbarShow(GLOBAL_CONFIG.copy.noSupport):r.previousElementSibling.innerText=GLOBAL_CONFIG.copy.noSupport,o.removeAllRanges(),n.classList.remove("copy-true")},d=function(e){var t=_toConsumableArray(e.parentNode.children).slice(1);e.firstChild.classList.toggle("closed"),anzhiyu.isHidden(t[t.length-1])?t.forEach(function(e){e.style.display="block"}):t.forEach(function(e){e.style.display="none"})},m=function(e){e=e.target.classList;e.contains("expand")?d(this):e.contains("copy-button")&&r(this)},y=function(){this.classList.toggle("expand-done")},t?c?o.forEach(function(e){var t=e.getAttribute("data-language")?e.getAttribute("data-language"):"Code",t='<div class="code-lang">'.concat(t,"</div>");anzhiyu.wrap(e,"figure",{class:"highlight"}),p(t,e)}):o.forEach(function(e){var t=e.getAttribute("class").split(" ")[1];p('<div class="code-lang">'.concat(t="plain"!==t&&void 0!==t&&"plaintext"!==t?t:"Code","</div>"),e,"hl")}):c?o.forEach(function(e){anzhiyu.wrap(e,"figure",{class:"highlight"}),p("",e)}):o.forEach(function(e){p("",e,"hl")}))}var t,a,c,l=!1,s=document.getElementById("sidebar-menus"),u=document.getElementById("rightside"),f=document.getElementById("nav"),g={open:function(){anzhiyu.sidebarPaddingR(),anzhiyu.changeThemeMetaColor("#607d8b"),anzhiyu.animateIn(document.getElementById("menu-mask"),"to_show 0.5s"),s.classList.add("open"),$web_box.classList.add("open"),u.classList.add("hide"),f.style.borderTopLeftRadius="12px",l=!0,document.body.style.overflow="hidden",$web_box.addEventListener("mousedown",e),$web_box.addEventListener("touchstart",e,{passive:!1}),window.location.pathname.startsWith("/music/")?$web_container.style.background="rgb(255 255 255 / 20%)":$web_container.style.background="var(--global-bg)"},close:function(){var e=document.body;anzhiyu.initThemeColor(),e.style.paddingRight="",anzhiyu.animateOut(document.getElementById("menu-mask"),"to_hide 0.5s"),s.classList.remove("open"),$web_box.classList.remove("open"),u.classList.remove("hide"),f.style.borderTopLeftRadius="0px",l=!1,document.body.style.overflow="auto",anzhiyu.addNavBackgroundInit()}};function v(e){function n(n,o){var e,r,i=null!=(e=n.getAttribute("data-limit"))?e:o.length;!n.classList.contains("lazyload")||o.length<i?(n.innerHTML=a(o),n.nextElementSibling.style.display="none"):!n.classList.contains("btn_album_detail_lazyload")||n.classList.contains("page_img_lazyload")?(c(n,o,i),(r=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&setTimeout((e=c(n,o,i),fjGallery(n,"appendImages",n.querySelectorAll(".fj-gallery-item:nth-last-child(-n+".concat(e,")"))),anzhiyu.loadLightbox(n.querySelectorAll("img")),void(e<Number(i)&&r.unobserve(n.nextElementSibling))),100)})})).observe(n.nextElementSibling)):(c(n,o,i),n.nextElementSibling.addEventListener("click",function e(){var t=c(n,o,i);fjGallery(n,"appendImages",n.querySelectorAll(".fj-gallery-item:nth-last-child(-n+".concat(t,")"))),anzhiyu.loadLightbox(n.querySelectorAll("img")),t<i&&n.nextElementSibling.removeEventListener("click",e)})),anzhiyu.initJustifiedGallery(n),anzhiyu.loadLightbox(n.querySelectorAll("img")),window.lazyLoadInstance&&window.lazyLoadInstance.update()}function t(){e.forEach(function(t){t.classList.contains("url")?o(t.textContent).then(function(e){n(t,e)}):n(t,JSON.parse(t.textContent))})}var a=function(e){function r(e){return e.replace(/"/g,"&quot;")}var i="";return e.forEach(function(e){var t=e.alt?'alt="'.concat(r(e.alt),'"'):"",n=e.title?'title="'.concat(r(e.title),'"'):"",o=e.address||"",o='\n        <div class="fj-gallery-item">\n          '.concat(o?'<div class="tag-address">'.concat(o,"</div>"):"",'\n          <img src="').concat(e.url,'" ').concat(t+n,">\n        </div>\n      ");i+=o}),i},c=function(e,t,n){var n=Number(n),o=t.length;return n<o?e.insertAdjacentHTML("beforeend",a(t.splice(0,n))):(e.insertAdjacentHTML("beforeend",a(t)),e.classList.remove("lazyload")),window.lazyLoadInstance&&window.lazyLoadInstance.update(),n<o?n:o},o=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}();window.fjGallery?t():(getCSS("".concat(GLOBAL_CONFIG.source.justifiedGallery.css)),getScript("".concat(GLOBAL_CONFIG.source.justifiedGallery.js)).then(t))}function b(){var o=document.getElementById("rightside"),r=window.innerHeight+56,i=0,a=(document.body.scrollHeight<=r&&(o.style.cssText="opacity: 1; transform: translateX(-58px)"),0),c=!0,l=document.getElementById("page-header"),s=document.getElementById("popup-window"),u="function"==typeof chatBtnHide,d="function"==typeof chatBtnShow,m=!1,e=document.getElementById("nav-music"),t=document.getElementById("footer"),y=document.getElementById("waterfall"),h=document.getElementById("percent"),p=document.getElementById("nav-totop"),f=document.getElementById("body-wrap"),g=document.getElementById("post-comment")||document.getElementById("footer");function v(e){var t=f.clientHeight,n=document.documentElement.clientHeight,t=n<t?t-n:document.documentElement.scrollHeight-n,n=Math.round(100*(e/t)),t=100<n?100:n<=0?1:n;h.textContent=t,function(e){if(e){var t=window.getComputedStyle(e).getPropertyValue("display");if("none"!=t)return t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e.offsetTop-document.documentElement.scrollTop<=t}}(g)||90<t?(p.classList.add("long"),h.textContent="返回顶部"):(p.classList.remove("long"),h.textContent=t),y&&(n=e%document.documentElement.clientHeight,!m&&100+n>=document.documentElement.clientHeight?(console.info(n,document.documentElement.clientHeight),setTimeout(function(){waterfall("#waterfall")},500)):setTimeout(function(){y&&waterfall("#waterfall")},500))}var n=anzhiyu.throttle(function(){var e,t=window.scrollY||document.documentElement.scrollTop,n=(e=a<t,a=t,Math.abs(i-t));60<t&&n<20&&0!=n||(s&&s.classList.contains("show-popup-window")&&60<t&&20<n&&0!=i&&anzhiyu.throttle(function(){popupWindowTimer&&clearTimeout(popupWindowTimer),popupWindowTimer=setTimeout(function(){s.classList.contains("popup-hide")||s.classList.add("popup-hide"),setTimeout(function(){s.classList.remove("popup-hide"),s.classList.remove("show-popup-window")},1e3)},1e3)},1e3)(),26<(i=t)?(e?(l.classList.contains("nav-visible")&&l.classList.remove("nav-visible"),d&&!0===c&&(chatBtnHide(),c=!1)):(l.classList.contains("nav-visible")||l.classList.add("nav-visible"),u&&!1===c&&(chatBtnShow(),c=!0)),requestAnimationFrame(function(){anzhiyu.initThemeColor(),l.classList.add("nav-fixed")}),"0"===window.getComputedStyle(o).getPropertyValue("opacity")&&(o.style.cssText="opacity: 0.8; transform: translateX(-58px)")):(t<=5&&requestAnimationFrame(function(){l.classList.remove("nav-fixed"),l.classList.remove("nav-visible"),anzhiyu.initThemeColor()}),o.style.cssText="opacity: ''; transform: ''"),document.body.scrollHeight<=r&&(o.style.cssText="opacity: 0.8; transform: translateX(-58px)"),v(t))},96);t&&anzhiyu.intersectionObserver(function(){t&&e&&768<document.body.clientWidth&&(e.style.bottom="-10px",e.style.opacity="0"),m=!0},function(){t&&e&&768<document.body.clientWidth&&(e.style.bottom="20px",e.style.opacity="1")})().observe(t),window.scrollCollect=n,window.addEventListener("scroll",scrollCollect)}function L(){var i,e,a,c,l,s,u,d=GLOBAL_CONFIG_SITE.isToc,m=GLOBAL_CONFIG.isAnchor,t=document.getElementById("article-container");t&&(d||m)&&(d&&(e=document.getElementById("card-toc"),c=(a=e.getElementsByClassName("toc-content")[0]).querySelectorAll(".toc-link"),l=a.classList.contains("is-expand"),window.mobileToc={open:function(){e.style.cssText="animation: toc-open .3s; opacity: 1; right: 55px"},close:function(){e.style.animation="toc-close .2s",setTimeout(function(){e.style.cssText="opacity:''; animation: ''; right: ''"},100)}},a.addEventListener("click",function(e){e.preventDefault();var t=e.target.classList;t.contains("toc-content")||(t=t.contains("toc-link")?e.target:e.target.parentElement,anzhiyu.scrollToDest(anzhiyu.getEleTop(document.getElementById(decodeURI(t.getAttribute("href")).replace("#","")))-60,300),window.innerWidth<900&&window.mobileToc.close())}),i=function(e){var e=e.getBoundingClientRect().top,t=a.scrollTop;e>document.documentElement.clientHeight-100&&(a.scrollTop=t+150),e<100&&(a.scrollTop=t-150)}),s=t.querySelectorAll("h1,h2,h3,h4,h5,h6"),u="",window.tocScrollFn=anzhiyu.throttle(function(){var n=window.scrollY||document.documentElement.scrollTop;if(0!==n){var o="",r="";if(s.forEach(function(e,t){n>anzhiyu.getEleTop(e)-80&&(e=e.id,o=e?"#"+encodeURI(e):"",r=t)}),u!==r&&(m&&anzhiyu.updateAnchor(o),u=r,d)&&(a.querySelectorAll(".active").forEach(function(e){e.classList.remove("active")}),""!==o)){var e=c[r];if(e.classList.add("active"),setTimeout(function(){i(e)},0),!l)for(var t=e.parentNode;!t.matches(".toc");t=t.parentNode)t.matches("li")&&t.classList.add("active")}}},96),window.addEventListener("scroll",tocScrollFn))}function E(e){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e.forEach(function(e){var t=e.getAttribute("datetime");e.innerText=n?anzhiyu.diffDate(t,!1,n):anzhiyu.diffDate(t,!0),e.style.display="inline"})}var d,m,y=function(){var t=document.body,n=(t.classList.add("read-mode"),document.createElement("button"));n.type="button",n.className="anzhiyufont anzhiyu-icon-sign-out-alt exit-readmode",t.appendChild(n),n.addEventListener("click",function e(){t.classList.remove("read-mode"),n.remove(),n.removeEventListener("click",e)})},w=function(e){var t=document.getElementById("rightside-config-hide").classList;t.toggle("show"),e.classList.contains("show")&&(t.add("status"),setTimeout(function(){t.remove("status")},300)),e.classList.toggle("show")},_=function(){anzhiyu.scrollToDest(0,500)},I=function(){var e=document.documentElement.classList;e.contains("hide-aside")?saveToLocal.set("aside-status","show",2):saveToLocal.set("aside-status","hide",2),e.toggle("hide-aside")},x=function(){"0"===window.getComputedStyle(document.getElementById("card-toc")).getPropertyValue("opacity")?window.mobileToc.open():window.mobileToc.close()},T=(document.getElementById("rightside").addEventListener("click",function(e){var t=e.target.id?e.target:e.target.parentNode;switch(t.id){case"go-up":_();break;case"rightside_config":w(t);break;case"mobile-toc-button":x();break;case"readmode":y();break;case"darkmode":anzhiyu.switchDarkMode();break;case"hide-aside-btn":I()}}),document.addEventListener("touchstart",function(e){anzhiyu.removeRewardMask()},{passive:!0}),function(){document.querySelectorAll("#article-container .tab > button").forEach(function(e){e.addEventListener("click",function(e){var t,n,o,r=this.parentNode;r.classList.contains("active")||(t=r.parentNode.nextElementSibling,(o=anzhiyu.siblings(r,".active")[0])&&o.classList.remove("active"),r.classList.add("active"),n=this.getAttribute("data-href").replace("#",""),_toConsumableArray(t.children).forEach(function(e){e.id===n?e.classList.add("active"):e.classList.remove("active")}),0<(o=t.querySelectorAll("#".concat(n," .fj-gallery"))).length&&anzhiyu.initJustifiedGallery(o))})})}),z=function(){document.querySelectorAll("#article-container .tabs .tab-to-top").forEach(function(e){e.addEventListener("click",function(){anzhiyu.scrollToDest(anzhiyu.getEleTop(anzhiyu.getParents(this,".tabs"))-60,300)})})},S=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,o,r,i,a,c,l;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector(":root"),n=null==(n=document.getElementById("post-top-bg"))?void 0:n.src){e.next=9;break}return t.style.setProperty("--anzhiyu-bar-background","var(--anzhiyu-meta-theme-color)"),anzhiyu.initThemeColor(),document.documentElement.style.setProperty("--anzhiyu-main",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-theme")),document.documentElement.style.setProperty("--anzhiyu-theme-op",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"23"),document.documentElement.style.setProperty("--anzhiyu-theme-op-deep",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"dd"),e.abrupt("return");case 9:GLOBAL_CONFIG.mainTone?GLOBAL_CONFIG_SITE.postMainColor?(r=GLOBAL_CONFIG_SITE.postMainColor,"light"===G(r)&&(r=O(A(r),-40)),t.style.setProperty("--anzhiyu-bar-background",r),anzhiyu.initThemeColor(),GLOBAL_CONFIG.mainTone.cover_change&&(document.documentElement.style.setProperty("--anzhiyu-main",r),document.documentElement.style.setProperty("--anzhiyu-theme-op",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"23"),document.documentElement.style.setProperty("--anzhiyu-theme-op-deep",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"dd")),e.next=75):e.next=18:e.next=75;break;case 18:return o="var(--anzhiyu-theme)",r="","cdn"==GLOBAL_CONFIG.mainTone.mode||"both"==GLOBAL_CONFIG.mainTone.mode?r=n+"?imageAve":"api"==GLOBAL_CONFIG.mainTone.mode&&(r=GLOBAL_CONFIG.mainTone.api+n),e.prev=21,e.next=24,fetch(r);case 24:if((a=e.sent).ok&&null!=(i=a.headers.get("content-type"))&&i.includes("application/json"))return e.next=28,a.json();e.next=36;break;case 28:i=e.sent,a="cdn"==GLOBAL_CONFIG.mainTone.mode||"both"==GLOBAL_CONFIG.mainTone.mode?"#"+i.RGB.slice(2):i.RGB,"light"===G(a)&&(a=O(A(a),-40)),t.style.setProperty("--anzhiyu-bar-background",a),anzhiyu.initThemeColor(),GLOBAL_CONFIG.mainTone.cover_change&&(document.documentElement.style.setProperty("--anzhiyu-main",a),document.documentElement.style.setProperty("--anzhiyu-theme-op",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"23"),document.documentElement.style.setProperty("--anzhiyu-theme-op-deep",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"dd")),e.next=67;break;case 36:if("both"==GLOBAL_CONFIG.mainTone.mode)return e.prev=37,e.next=40,fetch(GLOBAL_CONFIG.mainTone.api+n);e.next=64;break;case 40:if((l=e.sent).ok&&null!=(c=l.headers.get("content-type"))&&c.includes("application/json"))return e.next=44,l.json();e.next=52;break;case 44:c=e.sent,l=c.RGB,"light"===G(l)&&(l=O(A(l),-40)),t.style.setProperty("--anzhiyu-bar-background",l),anzhiyu.initThemeColor(),GLOBAL_CONFIG.mainTone.cover_change&&(document.documentElement.style.setProperty("--anzhiyu-main",l),document.documentElement.style.setProperty("--anzhiyu-theme-op",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"23"),document.documentElement.style.setProperty("--anzhiyu-theme-op-deep",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"dd")),e.next=55;break;case 52:t.style.setProperty("--anzhiyu-bar-background",o),anzhiyu.initThemeColor(),document.documentElement.style.setProperty("--anzhiyu-main",o);case 55:e.next=62;break;case 57:e.prev=57,e.t0=e.catch(37),t.style.setProperty("--anzhiyu-bar-background",o),anzhiyu.initThemeColor(),document.documentElement.style.setProperty("--anzhiyu-main",o);case 62:e.next=67;break;case 64:t.style.setProperty("--anzhiyu-bar-background",o),anzhiyu.initThemeColor(),document.documentElement.style.setProperty("--anzhiyu-main",o);case 67:e.next=75;break;case 69:e.prev=69,e.t1=e.catch(21),console.error("Error fetching data:",e.t1),t.style.setProperty("--anzhiyu-bar-background",o),anzhiyu.initThemeColor(),document.documentElement.style.setProperty("--anzhiyu-main",o);case 75:case"end":return e.stop()}},e,null,[[21,69],[37,57]])}));return function(){return e.apply(this,arguments)}}(),A=function(e){return/^(rgb|RGB)/.test(e)?e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",").reduce(function(e,t){return e+Number(t).toString(16).padStart(2,"0")},"#"):/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(e)&&4===e.length?Array.from(e.slice(1)).reduce(function(e,t){return e+t+t},"#"):e},O=function(e,t){function n(e,t){return 255<(e+=t)?255:e<0?0:e}var o=e.startsWith("#"),e=(o&&(e=e.slice(1)),parseInt(e,16)),r=n(e>>16,t),i=n(e>>8&255,t),e=n(255&e,t);return(o?"#":"")+String("000000"+(e|i<<8|r<<16).toString(16)).slice(-6)},G=function(e){e=_slicedToArray(function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,o){return t+t+n+n+o+o});e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return e?"rgb(".concat(parseInt(e[1],16),", ").concat(parseInt(e[2],16),", ").concat(parseInt(e[3],16),")"):null}(e).match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),4);e[0];return.5<=(299*e[1]+587*e[2]+114*e[3])/255e3?"light":"dark"};window.onkeydown=function(e){123===e.keyCode&&anzhiyu.snackbarShow("开发者模式已打开，请遵循GPL协议",!1)};window.refreshFn=function(){h(!0),f.classList.add("show"),GLOBAL_CONFIG_SITE.isPost?(void 0!==GLOBAL_CONFIG.noticeOutdate&&(n=GLOBAL_CONFIG.noticeOutdate,(o=anzhiyu.diffDate(GLOBAL_CONFIG_SITE.postUpdate))>=n.limitDay)&&((t=document.createElement("div")).className="post-outdate-notice",t.textContent=n.messagePrev+" "+o+" "+n.messageNext,o=document.getElementById("article-container"),"top"===n.position?o.insertBefore(t,o.firstChild):o.appendChild(t)),GLOBAL_CONFIG.relativeDate.post&&E(document.querySelectorAll("#post-meta time"))):(GLOBAL_CONFIG.relativeDate.homepage?E(document.querySelectorAll("#recent-posts time")):GLOBAL_CONFIG.relativeDate.simplehomepage&&E(document.querySelectorAll("#recent-posts time"),!0),GLOBAL_CONFIG.runtime&&(n=document.getElementById("runtimeshow"))&&(o=n.getAttribute("data-publishDate"),n.innerText=anzhiyu.diffDate(o)+" "+GLOBAL_CONFIG.runtime),(t=document.getElementById("last-push-date"))&&(e=t.getAttribute("data-lastPushDate"),t.innerText=anzhiyu.diffDate(e,!0)),(e=document.querySelectorAll("#aside-cat-list .card-category-list-item.parent i")).length&&e.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();this.classList.toggle("expand");e=this.parentNode.nextElementSibling;anzhiyu.isHidden(e)?e.style.display="block":e.style.display="none"})})),L(),GLOBAL_CONFIG_SITE.isHome&&(r=document.getElementById("bbTimeList"),c=document.getElementById("scroll-down"))&&c.addEventListener("click",function(){r?anzhiyu.scrollToDest(r.offsetTop,300):anzhiyu.scrollToDest(document.getElementById("content-inner").offsetTop,300)}),p(),GLOBAL_CONFIG.isPhotoFigcaption&&document.querySelectorAll("#article-container img").forEach(function(e){var t,n=e.parentNode,o=e.title||e.alt;o&&!n.parentNode.classList.contains("justified-gallery")&&((t=document.createElement("div")).className="img-alt is-center",t.textContent=o,n.insertBefore(t,e.nextSibling))}),b(),window.scrollCollect&&window.scrollCollect();var e,t,n,o,r,i,a,c=document.querySelectorAll("#content-inner .fj-gallery");if(c.length&&v(c),anzhiyu.loadLightbox(document.querySelectorAll("#article-container img:not(.no-lightbox)")),(a=document.querySelectorAll("#article-container :not(.highlight) > table, #article-container > table")).length&&a.forEach(function(e){anzhiyu.wrap(e,"div",{class:"table-wrap"})}),(a=document.querySelectorAll("#article-container .hide-button")).length&&a.forEach(function(e){e.addEventListener("click",function(e){this.classList.add("open");var t=this.nextElementSibling.querySelectorAll(".fj-gallery");t.length&&anzhiyu.initJustifiedGallery(t)})}),T(),z(),i=!1,(a=document.querySelector("#comment-switch > .switch-btn"))&&a.addEventListener("click",function(){this.classList.toggle("move"),document.querySelectorAll("#post-comment > .comment-wrap > div").forEach(function(e){anzhiyu.isHidden(e)?e.style.cssText="display: block;animation: tabshow .5s":e.style.cssText="display: none;animation: ''"}),i||"function"!=typeof loadOtherComment||(i=!0,loadOtherComment())}),document.getElementById("toggle-menu").addEventListener("click",function(){g.open()}),document.getElementById("post-comment")){var l=1,s="",u=document.createElement("div"),d=(u.id="owo-big",document.querySelector("body"));function m(r){"IMG"==r.target.tagName&&l&&(l=0,s=setTimeout(function(){var e=3*r.target.clientHeight,t=3*r.target.clientWidth,n=r.x-r.offsetX-(t-r.target.clientWidth)/2,o=(n+t>d.clientWidth&&(n-=n+t-d.clientWidth+10),n<0&&(n=10),r.y-r.offsetY);u.style.height=e+"px",u.style.width=t+"px",u.style.left=n+"px",u.style.top=o+"px",u.style.display="flex",u.innerHTML='<img src="'.concat(r.target.src,'">')},100))}function y(e){u.style.display="none",l=1,clearTimeout(s)}d.appendChild(u),new MutationObserver(function(e){e.forEach(function(e){for(var t=e.addedNodes,n=0;n<t.length;n++){var o=t[n];o.nodeType===Node.ELEMENT_NODE&&o.classList.contains("OwO-body")&&!o.classList.contains("comment-barrage")&&((o=o).addEventListener("contextmenu",function(e){return e.preventDefault()}),o.addEventListener("mouseover",m),o.addEventListener("mouseout",y))}})}).observe(document.getElementById("post-comment"),{childList:!0,subtree:!0})}(a=document.querySelector(".topGroup"))&&a.addEventListener("mouseleave",function(){document.getElementById("todayCard").classList.remove("hide"),document.getElementById("todayCard").style.zIndex=1}),S(),(a=document.getElementById("toPageText"))&&a.addEventListener("keydown",function(e){13===e.keyCode&&(anzhiyu.toPage(),e=document.getElementById("toPageButton").href,pjax.loadUrl(e))})},refreshFn(),window.addEventListener("resize",function(){h(!1),anzhiyu.isHidden(document.getElementById("toggle-menu"))&&l&&g.close()}),anzhiyu.darkModeStatus(),document.getElementById("menu-mask").addEventListener("click",function(e){g.close()}),GLOBAL_CONFIG.islazyload&&(window.lazyLoadInstance=new LazyLoad({elements_selector:"img",threshold:0,data_src:"lazy-src"})),void 0!==GLOBAL_CONFIG.copyright&&(d=GLOBAL_CONFIG.copyright,document.body.oncopy=function(e){e.preventDefault();var t=window.getSelection(0).toString(),t=t.length>d.limitCount?t+"\n\n\n"+d.languages.author+"\n"+d.languages.link+window.location.href+"\n"+d.languages.source+"\n"+d.languages.info:t;return(e.clipboardData?e:window).clipboardData.setData("text",t)}),GLOBAL_CONFIG.navMusic&&(m=setInterval(function(){navMusicEl.querySelector("#nav-music meting-js").aplayer&&(clearInterval(m),navMusicEl.querySelector("#nav-music meting-js").aplayer.on("pause",function(){navMusicEl.classList.remove("playing"),document.getElementById("menu-music-toggle").innerHTML='<i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span>',document.getElementById("nav-music-hoverTips").innerHTML="音乐已暂停",document.querySelector("#consoleMusic").classList.remove("on"),anzhiyu_musicPlaying=!1,navMusicEl.classList.remove("stretch")}),navMusicEl.querySelector("#nav-music meting-js").aplayer.on("play",function(){navMusicEl.classList.add("playing"),document.getElementById("menu-music-toggle").innerHTML='<i class="anzhiyufont anzhiyu-icon-pause"></i><span>暂停音乐</span>',document.querySelector("#consoleMusic").classList.add("on"),anzhiyu_musicPlaying=!0}))},16)),GLOBAL_CONFIG.shortcutKey&&document.getElementById("consoleKeyboard")&&(localStorage.setItem("keyboardToggle","true"),document.getElementById("consoleKeyboard").classList.add("on"),anzhiyu_keyboard=!0),document.querySelectorAll("#sidebar-menus .site-page.group").forEach(function(e){e.addEventListener("click",function(){this.classList.toggle("hide")})})});