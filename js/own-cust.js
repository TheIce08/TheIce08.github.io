function newYear(){if(!document.querySelector("#newYear"))return;const e=[{month:4,day:6,title:"谷雨",image:"https://wmimg.com/i/1452/2025/04/67f0ac7465960.png"},{month:1,day:1,title:"元旦",image:"url_to_new_year_image.jpg"},{month:5,day:1,title:"劳动节",image:"url_to_labor_day_image.jpg"},{month:10,day:1,title:"国庆节",image:"url_to_national_day_image.jpg"}],t=new Date("2023-01-01"),n=t.getTime()/1e3,a={0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"};function r(e){return(e=Number(e))>9?e:"0"+e}!function o(){const l=new Date,i=Math.round(l.getTime()/1e3);l.getMonth(),l.getDate(),document.querySelector("#newYear .today").innerHTML=`${l.getFullYear()}-${r(l.getMonth()+1)}-${r(l.getDate())} ${a[l.getDay()]}`;let u=null,s=1/0;for(const t of e){const e=new Date(l.getFullYear(),t.month-1,t.day),n=new Date(l.getFullYear()+1,t.month-1,t.day);let a;a=e>l?e.getTime()/1e3:n.getTime()/1e3;const r=a-i;r<0||r<s&&(s=r,u=t)}if(u){if(document.querySelector("#newYear .title").innerHTML=`距离${u.title}：`,s>86400)document.querySelector("#newYear .newYear-time").innerHTML=`<span class="day">${Math.ceil(s/86400)}</span><span class="unit">天</span>`;else{let e=r(parseInt(s/3600));s%=3600;let t=r(parseInt(s/60));s%=60;let n=r(s);document.querySelector("#newYear .newYear-time").innerHTML=`<span class="time">${e}:${t}:${n}</span>`}document.querySelector(".newYear-slider").style.backgroundImage=`url(${u.image})`}else{document.querySelector("#newYear .title").innerHTML=`距离建站${l.getFullYear()-t.getFullYear()}周年：`;const e=i-n,a=Math.floor(e/86400);document.querySelector("#newYear .newYear-time").innerHTML=`<span class="day">${a}</span><span class="unit">天</span>`,document.querySelector(".newYear-slider").style.backgroundImage="url(url_to_default_image.jpg)"}window.newYearTimer||(window.newYearTimer=setInterval(o,1e3))}()}function newYearSwiper(){var e=new e(".newYear-slider",{passiveListeners:!0,loop:!0,autoplay:{disableOnInteraction:!0,delay:5e3},effect:"fade",mousewheel:!0,autoHeight:!0}),t=document.querySelector(".newYear-slider");null!==t&&(t.onmouseenter=()=>{e.autoplay.stop(),t.style.opacity=1},t.onmouseleave=()=>{e.autoplay.start(),t.style.opacity=.5})}function whenDOMReady(){newYear(),newYearSwiper()}whenDOMReady(),document.addEventListener("pjax:complete",whenDOMReady);